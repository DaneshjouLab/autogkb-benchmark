{
  "metadata": {
    "timestamp": "2026-01-20T12:13:04.504464",
    "eval_config_name": "default_eval_config",
    "eval_config_description": "Default configuration for pipeline evaluation",
    "stages_evaluated": [
      "sentences",
      "variants"
    ],
    "source_pipeline_config": "base_config",
    "source_file": "src/generation_pipeline/outputs/base_config_outputs.json",
    "judge_model": "claude-sonnet-4-20250514"
  },
  "overall_variant_metrics": {
    "precision": 0.5,
    "recall": 1.0,
    "f1_score": 0.667
  },
  "overall_sentence_score": 0.825,
  "num_pmcids": 1,
  "per_pmcid": [
    {
      "pmcid": "PMC5508045",
      "variant_evaluation": {
        "pmcid": "PMC5508045",
        "match_rate": 1.0,
        "precision": 0.5,
        "recall": 1.0,
        "f1_score": 0.667,
        "matches": [
          "rs2108622",
          "rs9923231",
          "rs887829",
          "rs1057910"
        ],
        "misses": [],
        "extras": [
          "cyp2c9*1",
          "cyp2c9*3",
          "rs8175347",
          "cyp2c9*2"
        ],
        "num_proposed": 8,
        "num_ground_truth": 4
      },
      "sentence_evaluation": {
        "pmcid": "PMC5508045",
        "avg_score": 0.825,
        "num_variants_scored": 4,
        "num_variants_not_in_ground_truth": 4,
        "per_variant": [
          {
            "variant": "rs9923231",
            "ground_truth": [
              "Genotypes CT + TT are associated with decreased dose of warfarin in people with Atrial Fibrillation, heart valve replacement, Hypertension, Pulmonary, Pulmonary Embolism or Venous Thrombosis as compared to genotype CC."
            ],
            "generated": [
              "Genotypes GA + AA of rs9923231 are associated with decreased dose of warfarin in Thai people with atrial fibrillation, heart valve replacement, deep vein thrombosis, pulmonary embolism, chronic thromboembolic pulmonary hypertension as compared to genotype GG."
            ],
            "score": 0.75,
            "critique": "The generated sentence captures most key associations correctly: decreased warfarin dose, similar conditions (atrial fibrillation, heart valve replacement, pulmonary embolism), and appropriate comparison structure. However, there are notable differences: genotypes are listed as GA+AA vs GG instead of CT+TT vs CC, and the generated sentence specifies 'Thai people' while adding some conditions not in the ground truth. The core pharmacogenomic association is preserved but with meaningful variations in genotype notation and population specificity."
          },
          {
            "variant": "rs1057910",
            "ground_truth": [
              "Genotypes AC + CC are associated with decreased dose of warfarin in people with Atrial Fibrillation, heart valve replacement, Hypertension, Pulmonary, Pulmonary Embolism and Venous Thrombosis as compared to genotype AA."
            ],
            "generated": [
              "Genotypes AC + CC of rs1057910 are associated with decreased dose of warfarin in Thai people with atrial fibrillation, heart valve replacement, deep vein thrombosis, pulmonary embolism, chronic thromboembolic pulmonary hypertension as compared to genotype AA."
            ],
            "score": 0.85,
            "critique": "The generated sentence captures most key associations correctly: same variant genotypes (AC + CC vs AA), same direction (decreased dose), same drug (warfarin), and same effect type (dose). The conditions overlap significantly (atrial fibrillation, heart valve replacement, pulmonary embolism all match). However, there are some differences: the generated sentence specifies 'Thai people' (population not mentioned in ground truth), includes 'deep vein thrombosis' and 'chronic thromboembolic pulmonary hypertension' which aren't in the ground truth, while missing 'Hypertension' and 'Venous Thrombosis' from the ground truth. The core pharmacogenomic association is preserved with minor variations in condition specificity."
          },
          {
            "variant": "rs2108622",
            "ground_truth": [
              "Genotype TT is associated with increased dose of warfarin in people with Atrial Fibrillation, heart valve replacement, Hypertension, Pulmonary, Pulmonary Embolism and Venous Thrombosis as compared to genotype CC."
            ],
            "generated": [
              "Genotype TT of rs2108622 is associated with increased dose of warfarin in Thai people with atrial fibrillation, heart valve replacement, deep vein thrombosis, pulmonary embolism, chronic thromboembolic pulmonary hypertension as compared to genotype CC."
            ],
            "score": 0.85,
            "critique": "The generated sentence captures most key associations correctly: same variant genotypes (TT vs CC), same direction (increased dose), same drug (warfarin), and overlapping conditions (atrial fibrillation, heart valve replacement, pulmonary embolism). However, it adds population specificity (Thai people) not in the ground truth and has some condition differences - it includes 'deep vein thrombosis' and 'chronic thromboembolic pulmonary hypertension' while missing 'Hypertension' and 'Venous Thrombosis' from the original. The core pharmacogenomic association is preserved with minor variations in condition specificity."
          },
          {
            "variant": "rs887829",
            "ground_truth": [
              "Allele C is not associated with dose of warfarin in people with Atrial Fibrillation, heart valve replacement, Hypertension, Pulmonary, Pulmonary Embolism and Venous Thrombosis as compared to allele T."
            ],
            "generated": [
              "Allele T of rs887829 is not associated with dose of warfarin in Thai people with atrial fibrillation, heart valve replacement, deep vein thrombosis, pulmonary embolism, chronic thromboembolic pulmonary hypertension as compared to allele C."
            ],
            "score": 0.85,
            "critique": "The generated sentence captures most key associations correctly: same variant (rs887829), same direction (not associated), same effect type (dose), same drug (warfarin), and overlapping phenotypes (atrial fibrillation, heart valve replacement, pulmonary embolism). However, there are two notable differences: (1) the allele comparison is reversed (T vs C instead of C vs T), and (2) the generated sentence specifies 'Thai people' while the ground truth doesn't specify ethnicity, and includes some different but related conditions (deep vein thrombosis, chronic thromboembolic pulmonary hypertension vs hypertension, venous thrombosis). The core pharmacogenomic association remains the same despite these differences."
          },
          {
            "variant": "CYP2C9*3",
            "ground_truth": null,
            "generated": [
              "CYP2C9*1/*3 and CYP2C9*3/*3 are associated with decreased dose of warfarin in Thai people with atrial fibrillation, heart valve replacement, deep vein thrombosis, pulmonary embolism, chronic thromboembolic pulmonary hypertension as compared to CYP2C9*1/*1."
            ],
            "score": null,
            "critique": "Variant not found in ground truth - not scored"
          },
          {
            "variant": "CYP2C9*1",
            "ground_truth": null,
            "generated": [
              "CYP2C9*1/*1 is associated with increased dose of warfarin in Thai people with atrial fibrillation, heart valve replacement, deep vein thrombosis, pulmonary embolism, chronic thromboembolic pulmonary hypertension as compared to CYP2C9*1/*3 + CYP2C9*3/*3."
            ],
            "score": null,
            "critique": "Variant not found in ground truth - not scored"
          },
          {
            "variant": "rs8175347",
            "ground_truth": null,
            "generated": [
              "rs8175347 mentioned in article but not studied by paper."
            ],
            "score": null,
            "critique": "Variant not found in ground truth - not scored"
          },
          {
            "variant": "CYP2C9*2",
            "ground_truth": null,
            "generated": [
              "CYP2C9*2 mentioned in article but not studied by paper."
            ],
            "score": null,
            "critique": "Variant not found in ground truth - not scored"
          }
        ]
      }
    }
  ],
  "summary": "## Evaluation Summary\n\nThe pharmacogenomics knowledge extraction pipeline demonstrated mixed performance on the single evaluated article (PMC5508045). **Variant extraction achieved perfect recall (100%) but modest precision (50%, F1=0.667)**, successfully identifying all 4 ground truth variants (rs2108622, rs9923231, rs887829, rs1057910) while generating 4 false positives. **Sentence generation performed well with an average score of 0.825**, indicating high-quality association descriptions for the correctly identified variants.\n\nThe pipeline's key strength lies in its comprehensive variant detection and accurate association sentence generation. All extracted variants received strong sentence scores (0.75-0.85), with rs1057910, rs2108622, and rs887829 achieving identical scores of 0.85 for correctly capturing variant genotypes, directions of association, and clinical outcomes. Even the lowest-scoring variant (rs9923231 at 0.75) successfully captured the key warfarin dosing association.\n\nThe primary weakness is **over-extraction of variants**, with the pipeline incorrectly identifying CYP2C9 allele names (cyp2c9*1, cyp2c9*2, cyp2c9*3) and an additional rs-number (rs8175347) as relevant variants. This suggests the extraction algorithm may be too permissive in recognizing genetic nomenclature patterns without sufficient context filtering.\n\n**Recommendations for improvement** include implementing more stringent variant filtering to reduce false positives, particularly for allele nomenclature that may not represent the target variant types. Additionally, expanding the evaluation to more articles would provide better performance estimates, as single-article metrics may not be representative of overall pipeline performance."
}